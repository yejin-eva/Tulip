<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title>Leap Bootstrap Theme and HTML Template</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A corporate Bootstrap theme by Medium Rare">
    <link href="assets/css/loaders/loader-typing.css" rel="stylesheet" type="text/css" media="all" />
    <link href="assets/css/theme.css" rel="stylesheet" type="text/css" media="all" />
    <link rel="preload" as="font" href="assets/fonts/Inter-UI-upright.var.woff2" type="font/woff2" crossorigin="anonymous" />
    <link rel="preload" as="font" href="assets/fonts/Inter-UI.var.woff2" type="font/woff2" crossorigin="anonymous" />
  	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"/>

	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>  
	<script>
		$(document).ready(function() {
			console.log('start');
			
			$("#btnsubmit").click(function(){
				console.log('Join button clicked');
				$("#warning1").text("");
				$("#warning2").text("");
				$("#warning3").text("");
				
				let name = $("#inputname").val();
				console.log(name);
				
				let studentPW = $("#inputPW").val();
				console.log(studentPW);
				
				var lengthPW = studentPW.length;
				
				let flag = 0;
				
				if (name) {
				}
				else {
					console.log("no name");
					$("#warning1").text("사용자명를 입력하세요!");
					flag = 1;
				}
				
				if (studentPW) {
				}
				else {
					console.log("no password");
					$("#warning2").text("패스워드를 입력하세요!");
					flag = 1;
				}
				
				if (lengthPW < 8) {
					console.log("length error");
					$("#warning3").text("8자 이상의 PW를 입력하세요!");
					flag = 1;
				}
				else {
					console.log(studentPW);
					$("#warning3").text("");
					flag = 0;
				}
				
				let data = {
					'pw': studentPW,
					'name': name
				}
				
				console.log(flag);
				//eror가 없으면 ..
				if (flag == 0) {
					$.ajax({
						"url" : '/signup/signupUpdate',
						"type" : "post",
						"datatype" : "json",
						"data" : data,
						"success": function(results) {
							console.log(results.message);
							console.log(results.flag);
							
							if (results.flag == 1) {
								$('#results').text('성공적으로 저장되었습니다.');
								location.href="/signin";
							}
							else
								$('#results').text('저장에 실패했습니다.');
						}
					});
				}
			});			
		});
	  </script>

	  
  </head>

  <body>
    <div class="loader">
      <div class="loading-animation"></div>
    </div>

    <section class="min-vh-100 py-6">
      <div class="container">
        <div class="row justify-content-center mb-md-10">
          <div class="col-auto">
            <a class="navbar-brand fade-page" href="/">
              <img src="assets/img/Tulip_black.png" alt="Tulip" style ="width:65px; filter: opacity(0.5) drop-shadow(0 0 0 black);">
            </a>
          </div>
        </div>
        <div class="row justify-content-center pt-6">
          <div class="col-xl-4 col-lg-5 col-md-6">
            <div class="text-center mb-4">
              <h1 class="mb-1">Create Account</h1>
              <span>No credit card required</span>
            </div>
            <form>
              <div class="form-group">
                <input type="email" name="signup-email" id="inputname" placeholder="Username" class="form-control">
                <div id="warning1" class="text-danger"></div>  
			</div>
              <div class="form-group">
                <input type="password" name="signup-password" id="inputPW" placeholder="Password" class="form-control">
                <small class="text-muted">Must be at least 8 characters</small>
				<div id="warning2" class="text-danger"></div>  
				<div id="warning3" class="text-danger"></div> 
              </div>
              <div class="form-group">
                <input type="password" name="signup-password-confirm" placeholder="Confirm password" class="form-control">
              </div>
              <div class="form-group">
                <button type="button" id="btnsubmit" class="btn btn-primary">Create</button>
			  </div>
				<div id="results" class="text-danger"></div>
              <hr>
              <div class="text-center text-small text-muted">
                <span>Already have an account yet? <a href="/signin">Sign In</a>
                </span>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- Required vendor scripts (Do not remove) -->
    <script type="text/javascript" src="assets/js/jquery.min.js"></script>
    <script type="text/javascript" src="assets/js/popper.min.js"></script>
    <script type="text/javascript" src="assets/js/bootstrap.js"></script>

    <!-- Optional Vendor Scripts (Remove the plugin script here and comment initializer script out of index.js if site does not use that feature) -->

    <!-- AOS (Animate On Scroll - animates elements into view while scrolling down) -->
    <script type="text/javascript" src="assets/js/aos.js"></script>
    <!-- Clipboard (copies content from browser into OS clipboard) -->
    <script type="text/javascript" src="assets/js/clipboard.min.js"></script>
    <!-- Fancybox (handles image and video lightbox and galleries) -->
    <script type="text/javascript" src="assets/js/jquery.fancybox.min.js"></script>
    <!-- Flatpickr (calendar/date/time picker UI) -->
    <script type="text/javascript" src="assets/js/flatpickr.min.js"></script>
    <!-- Flickity (handles touch enabled carousels and sliders) -->
    <script type="text/javascript" src="assets/js/flickity.pkgd.min.js"></script>
    <!-- Ion rangeSlider (flexible and pretty range slider elements) -->
    <script type="text/javascript" src="assets/js/ion.rangeSlider.min.js"></script>
    <!-- Isotope (masonry layouts and filtering) -->
    <script type="text/javascript" src="assets/js/isotope.pkgd.min.js"></script>
    <!-- jarallax (parallax effect and video backgrounds) -->
    <script type="text/javascript" src="assets/js/jarallax.min.js"></script>
    <script type="text/javascript" src="assets/js/jarallax-video.min.js"></script>
    <script type="text/javascript" src="assets/js/jarallax-element.min.js"></script>
    <!-- jQuery Countdown (displays countdown text to a specified date) -->
    <script type="text/javascript" src="assets/js/jquery.countdown.min.js"></script>
    <!-- jQuery smartWizard facilitates steppable wizard content -->
    <script type="text/javascript" src="assets/js/jquery.smartWizard.min.js"></script>
    <!-- Plyr (unified player for Video, Audio, Vimeo and Youtube) -->
    <script type="text/javascript" src="assets/js/plyr.polyfilled.min.js"></script>
    <!-- Prism (displays formatted code boxes) -->
    <script type="text/javascript" src="assets/js/prism.js"></script>
    <!-- ScrollMonitor (manages events for elements scrolling in and out of view) -->
    <script type="text/javascript" src="assets/js/scrollMonitor.js"></script>
    <!-- Smooth scroll (animation to links in-page)-->
    <script type="text/javascript" src="assets/js/smooth-scroll.polyfills.min.js"></script>
    <!-- SVGInjector (replaces img tags with SVG code to allow easy inclusion of SVGs with the benefit of inheriting colors and styles)-->
    <script type="text/javascript" src="assets/js/svg-injector.umd.production.js"></script>
    <!-- TwitterFetcher (displays a feed of tweets from a specified account)-->
    <script type="text/javascript" src="assets/js/twitterFetcher_min.js"></script>
    <!-- Typed text (animated typing effect)-->
    <script type="text/javascript" src="assets/js/typed.min.js"></script>
    <!-- Required theme scripts (Do not remove) -->
    <script type="text/javascript" src="assets/js/theme.js"></script>
    <!-- Removes page load animation when window is finished loading -->
    <script type="text/javascript">
      window.addEventListener("load", function () {    document.querySelector('body').classList.add('loaded');  });
    </script>

  </body>

</html>
